# Task 1

## Аудит текущего состояния

### 1. DFD AS-IS

![Диаграммы потоков даннхы AS-IS](DFD%20asis.png)

### 2.

Текущие проблемы
* Excel / файлы на сервере. Описание: хранятся без шифрования и логирования доступа
* Файловый сервер. Описание: нет разграничений прав, нет аудита
* 1С в файловом режиме. Описание: нет централизованного удобного доступа (кроме синка через сервер файлов), уязвимость к подмене файлов
* Нет тегирования данных

### 3.

Список данных и способов защиты
* PII_GENERAL: ФИО, дата рождения, адрес проживания, паспортные данные, место работы. Что делать: минимизировать сбор и хранение таких данных, шифровать те данные, которые хранить необходимо
* PII_CONTACT: Номер телефона, email. Что делать: шифровать
* MED_VISIT: Время приёма, id пациента, id врача. Что делать: можно оставить данные в исходном виде
* MED_RECORD: история лечения. Что делать: шифровать
* MED_HEALTH: диагнозы, результаты анализов, известные болезни. Что делать: шифровать
* FINANCIAL: счета, платежи. Что делать: шифровать, а также можно не хранить реквизиты - пользователю придется вводить их заново каждый раз

Инструменты и подходы:
* pgcrypto - шифрование данных в PostgreSQL
* pg_mask - для маскирования данных для некоторых пользователей, у которых нет доступа на просмотр всех колонок. Может быть полезным для настройки пользователей для аналитиков
* Amudsen - тегирование данных
* OpenAudit, Yandex Audit Trails - аудит действий

![Диаграммы потоков даннхы TO-BE](DFD%20tobe.png)


